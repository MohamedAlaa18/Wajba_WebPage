<div *ngIf="isModalOpen" id="default-modal" tabindex="-1" aria-hidden="true"
  class="fixed top-0 right-0 left-0 z-50 px-4 sm:px-6 lg:px-8 xl:px-1 w-full h-full bg-opacity-50 bg-black flex justify-center items-center"
  (click)="closeModal()">
  <div class="relative w-full max-w-3xl bg-white rounded-2xl" (click)="$event.stopPropagation()">
    <div class="relative rounded-2xl" [ngClass]="activeButton === 'Delivery' ? 'bg-[#84D7EB]' : 'sm:p-4 p-1'" [ngStyle]="{
    'background-image': activeButton === 'Delivery' ? 'none' :
                         activeButton === 'Dine in' ? 'url(/assets/images/c7532fe148e67d5d541feec5c13865c6.jpeg)' :
                         activeButton === 'Pickup' ? 'url(/assets/images/b648c1fb103ddd256a9f863d8d2d61d5.jpeg)' :
                         activeButton === 'Drive Thru' ? 'url(/assets/images/db8097a233268635a1b483857bb88b95.jpeg)' :
                         'none',
    'background-size': 'cover',
    'background-repeat': 'no-repeat'
  }">

      <div class="flex items-center justify-between border-b rounded-t"
        [ngClass]=" {'sm:p-4 p-1 pb-0' : activeButton === 'Delivery'}">
        <div></div>

        <button type="button" (click)="closeModal()"
          class="text-gray-400 bg-transparent rounded-lg text-sm w-8 h-8 inline-flex justify-center items-center">
          <svg class="hover-fill" width="20" height="21" viewBox="0 0 20 21" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path
              d="M6.4 15.5L10 11.9L13.6 15.5L15 14.1L11.4 10.5L15 6.9L13.6 5.5L10 9.1L6.4 5.5L5 6.9L8.6 10.5L5 14.1L6.4 15.5ZM10 20.5C8.61667 20.5 7.31667 20.2375 6.1 19.7125C4.88333 19.1875 3.825 18.475 2.925 17.575C2.025 16.675 1.3125 15.6167 0.7875 14.4C0.2625 13.1833 0 11.8833 0 10.5C0 9.11667 0.2625 7.81667 0.7875 6.6C1.3125 5.38333 2.025 4.325 2.925 3.425C3.825 2.525 4.88333 1.8125 6.1 1.2875C7.31667 0.7625 8.61667 0.5 10 0.5C11.3833 0.5 12.6833 0.7625 13.9 1.2875C15.1167 1.8125 16.175 2.525 17.075 3.425C17.975 4.325 18.6875 5.38333 19.2125 6.6C19.7375 7.81667 20 9.11667 20 10.5C20 11.8833 19.7375 13.1833 19.2125 14.4C18.6875 15.6167 17.975 16.675 17.075 17.575C16.175 18.475 15.1167 19.1875 13.9 19.7125C12.6833 20.2375 11.3833 20.5 10 20.5ZM10 18.5C12.2333 18.5 14.125 17.725 15.675 16.175C17.225 14.625 18 12.7333 18 10.5C18 8.26667 17.225 6.375 15.675 4.825C14.125 3.275 12.2333 2.5 10 2.5C7.76667 2.5 5.875 3.275 4.325 4.825C2.775 6.375 2 8.26667 2 10.5C2 12.7333 2.775 14.625 4.325 16.175C5.875 17.725 7.76667 18.5 10 18.5Z"
              fill="white" />
          </svg>

          <span class="sr-only">Close modal</span>
        </button>
      </div>

      <div class="space-y-4 overflow-y-auto" [ngClass]="{'sm:px-8 px-6': activeButton !== 'Delivery'}">
        <div [ngClass]="{'w-full': activeButton !== 'Delivery'}"
          class="text-[20px] font-semibold flex flex-wrap sm:flex-nowrap justify-center items-center sm:gap-4 gap-x-4 gap-y-2 bg-white md:py-3 md:px-5 p-2 rounded-2xl"
          [class.mx-10]="activeButton === 'Delivery'">
          <div class="flex justify-center items-center gap-4 w-full">
            <button class="rounded-2xl w-full h-[48px]" [ngClass]="{
                'bg-[#F45859] text-white': activeButton === 'Delivery',
                'bg-[#CCCCCC80]': activeButton !== 'Delivery'
              }" (click)="setActiveButton('Delivery')">
              Delivery
            </button>
            <button class="rounded-2xl w-full h-[48px]" [ngClass]="{
                'bg-[#F45859] text-white': activeButton === 'Dine in',
                'bg-[#CCCCCC80]': activeButton !== 'Dine in'
              }" (click)="setActiveButton('Dine in')">
              Dine in
            </button>
          </div>
          <div class="flex justify-center items-center gap-4 w-full">
            <button class="rounded-2xl w-full h-[48px]" [ngClass]="{
                'bg-[#F45859] text-white': activeButton === 'Pickup',
                'bg-[#CCCCCC80]': activeButton !== 'Pickup'
              }" (click)="setActiveButton('Pickup')">
              Pickup
            </button>
            <button class="rounded-2xl w-full h-[48px]" [ngClass]="{
                'bg-[#F45859] text-white': activeButton === 'Drive Thru',
                'bg-[#CCCCCC80]': activeButton !== 'Drive Thru'
              }" (click)="setActiveButton('Drive Thru')">
              Drive Thru
            </button>
          </div>
        </div>

        <div *ngIf="activeButton === 'Delivery'">
          <app-delivery-form (closeModal)="closeModal()"></app-delivery-form>
        </div>

        <div *ngIf="activeButton === 'Dine in'">
          <app-dine-in-form (closeModal)="closeModal()"></app-dine-in-form>
        </div>

        <div *ngIf="activeButton === 'Pickup'">
          <app-pickup-form (closeModal)="closeModal()"></app-pickup-form>
        </div>

        <div *ngIf="activeButton === 'Drive Thru'">
          <app-drive-thru-form (closeModal)="closeModal()"></app-drive-thru-form>
        </div>
      </div>
    </div>
  </div>
</div>
